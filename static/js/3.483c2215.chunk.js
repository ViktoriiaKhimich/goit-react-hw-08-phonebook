(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{88:function(t,e,n){t.exports={searchField:"FormInput_searchField__1vQV9"}},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(18),a=n(23),c=(n(0),n(88)),o=n.n(c),u=n(1),i=function(t){var e=t.classname,n=Object(a.a)(t,["classname"]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(r.a)({className:"".concat(o.a.searchField," ").concat(e)},n))})};i.defaultProps={required:!1,placeholder:"",name:"",className:"",type:"text",value:"",onChange:function(){}};var s=i},93:function(t,e,n){t.exports={form:"ContactFrom_form__16Sb7",formInput:"ContactFrom_formInput__2TK3S",formField:"ContactFrom_formField__2RJ7L",errorMessage:"ContactFrom_errorMessage__2kHLo"}},94:function(t,e,n){t.exports={inputField:"Filter_inputField__2-stO",input:"Filter_input__1FdOO"}},95:function(t,e,n){t.exports={contactListItem:"ContactListItem_contactListItem__Vjiud",btn:"ContactListItem_btn__1KOmA"}},98:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return rt}));var r=n(33),a=n(34),c=n(36),o=n(35),u=n(0),i=n(8),s=n(18),l=n(3),f=n(26),d=function(t){return t.phonebook.filter},b=function(t){return t.phonebook.contacts},m=Object(f.a)([d,b],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))})),h=n(19),p=n.n(h),j=n(10),O=j.a.fetchContactsRequest,v=j.a.fetchContactsSuccess,C=j.a.fetchContactsError,g=j.a.addContactRequest,x=j.a.addContactSuccess,y=j.a.addContactError,_=j.a.deleteContactRequest,F=j.a.deleteContactSuccess,k=j.a.deleteContactError;p.a.defaults.baseURL="https://connections-api.herokuapp.com";var S,w=function(){return function(t){t(O()),p.a.get("/contacts").then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(C(e.message))}))}},L=function(t,e){return function(n){var r={name:t,number:e};n(g()),p.a.post("/contacts",r).then((function(t){var e=t.data;return n(x(e))})).catch((function(t){return n(y(t.message))}))}},N=function(t){return function(e){e(_()),p.a.delete("/contacts/".concat(t)).then((function(){return e(F(t))})).catch((function(t){return e(k(t.message))}))}},I=n(89),R={type:"text",value:"",name:"name",required:!0},V={type:"text",value:"",name:"number",required:!0},q=new Uint8Array(16);function E(){if(!S&&!(S="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(q)}var A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var D=function(t){return"string"===typeof t&&A.test(t)},U=[],J=0;J<256;++J)U.push((J+256).toString(16).substr(1));var M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(U[t[e+0]]+U[t[e+1]]+U[t[e+2]]+U[t[e+3]]+"-"+U[t[e+4]]+U[t[e+5]]+"-"+U[t[e+6]]+U[t[e+7]]+"-"+U[t[e+8]]+U[t[e+9]]+"-"+U[t[e+10]]+U[t[e+11]]+U[t[e+12]]+U[t[e+13]]+U[t[e+14]]+U[t[e+15]]).toLowerCase();if(!D(n))throw TypeError("Stringified UUID is invalid");return n};var P=function(t,e,n){var r=(t=t||{}).random||(t.rng||E)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return M(r)},K=n(93),T=n.n(K),H=n(1),Q=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(l.a)({},r,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r=n.name,a=n.number;if(!t.props.contacts.find((function(t){return t.name===r||t.number===a})))return t.props.onSubmit(r,a),void t.reset();alert("".concat(r," is already in contacts")),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(a.a)(n,[{key:"render",value:function(){var t=P(),e=P(),n=this.state,r=n.name,a=n.number,c=this.handleChange,o=this.handleSubmit;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("form",{className:T.a.form,onSubmit:o,children:[Object(H.jsxs)("div",{className:T.a.formInput,children:[Object(H.jsx)("label",{htmlFor:t,children:"Name"}),Object(H.jsx)(I.a,Object(s.a)(Object(s.a)({onChange:c},R),{},{value:r,className:T.a.formField})),Object(H.jsx)("label",{htmlFor:e,children:"Number"}),Object(H.jsx)(I.a,Object(s.a)(Object(s.a)({onChange:c},V),{},{value:a,className:T.a.formField}))]}),Object(H.jsx)("button",{type:"submit",children:"Add contact"})]})})}}]),n}(u.Component),$=Object(i.b)((function(t){return{contacts:b(t)}}),(function(t){return{onSubmit:function(e,n){return t(L(e,n))}}}))(Q),z=n(94),B=n.n(z),G=function(t){var e=t.filter,n=t.onChange,r=P();return Object(H.jsxs)("div",{className:B.a.inputField,children:[Object(H.jsx)("label",{htmlFor:r,children:"Find contacts by name"}),Object(H.jsx)("input",{className:B.a.input,id:r,type:"text",value:e,onChange:n})]})};G.defaultProps={filter:"",onChange:function(){}};var W=Object(i.b)((function(t){return{filter:d(t)}}),(function(t){return{onChange:function(e){return t(j.a.filterContacts(e.target.value))}}}))(G),X=n(23),Y=n(95),Z=n.n(Y),tt=function(t){var e=t.name,n=t.number,r=t.onClick;return Object(H.jsxs)("li",{className:Z.a.contactListItem,children:[Object(H.jsxs)("p",{children:[e,": ",n]}),Object(H.jsx)("button",{className:Z.a.btn,type:"button",onClick:r,children:"Delete"})]})},et=Object(i.b)((function(t){return{contacts:m(t)}}),(function(t){return{onClick:function(e){return t(N(e))}}}))((function(t){var e=t.contacts,n=t.onClick,r=e.map((function(t){var e=t.id,r=Object(X.a)(t,["id"]);return Object(H.jsx)(tt,Object(s.a)(Object(s.a)({},r),{},{onClick:function(){return n(e)}}),e)}));return Object(H.jsx)("ul",{children:r})})),nt=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"Phonebook"}),Object(H.jsx)($,{}),Object(H.jsx)("h2",{children:"Contacts"}),Object(H.jsx)(W,{}),this.props.loading&&Object(H.jsx)("h1",{children:"...Loading"}),Object(H.jsx)(et,{})]})}}]),n}(u.Component),rt=Object(i.b)((function(t){return{loading:(e=t,e.phonebook.loading)};var e}),(function(t){return{fetchContacts:function(){return t(w())}}}))(nt)}}]);
//# sourceMappingURL=3.483c2215.chunk.js.map